<project name="conjure" default="all">

  <description>
    Build with "ant" and then generate a conjure 
    project with java -jar conjure.jar *project name*
  </description>

  <property name="src" location="src"/>
  <property name="vendor" location="vendor"/>
  <property name="conjure_src" location="${vendor}/conjure"/>
  <property name="target" location="target"/>
  <property name="classes" location="${target}/classes"/>

  <property name="file_structure" location="file_structure"/>
  <property name="default" location="${filestructure}/default"/>

  <target name="compile-conjure"
          description="Compile Conjure sources.">
    <mkdir dir="${classes}" />
    <javac srcdir="${src}"
           destdir="${classes}"
           debug="on"
    />
  </target>

  <target name="jar" depends="compile-conjure">
    <jar destfile="${target}/conjure.jar">
      <fileset dir="${classes}"/>
      <fileset dir="${file_structure}"/>
      <manifest>
        <attribute name="Main-Class" value="conjure.Main"/>
      </manifest>
    </jar>
  </target>

  <target name="all" depends="jar"/>

  <target name="clean"
          description="Remove autogenerated files and directories.">
    <delete dir="${target}"/>
  </target>

</project>
